package gynfm.common.web.controller;

import gynfm.common.service.NewsService;
import gynfm.common.service.ResearchService;
import gynfm.common.service.ScholarService;
import gynfm.common.service.model.NewsModel;
import gynfm.common.service.model.ResearchModel;
import gynfm.common.service.model.ScholarModel;

import java.util.List;

import javax.annotation.Resource;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
/**
 * 访问主页
 * @author Mfh
 *
 */
@Controller
public class MainControll {
	@Resource
	NewsService newsService;
	@Resource
	ScholarService scholarService;
	@Resource
	ResearchService researchService;
	
	@RequestMapping(value="/index.do", method = RequestMethod.GET)
	public String showIndex(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		List<NewsModel> newsList = newsService.getAllNews();
		model.addAttribute("newsList", newsList);
		
		List<ResearchModel> researchList = researchService.getAllResearch();
		model.addAttribute("researchList", researchList);
		return "index";
	}
	
	@RequestMapping(value="/scholar.do", method = RequestMethod.GET)
	public String showScholar(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		List<ScholarModel> scholarList = scholarService.getAllScholar();
		//System.out.println("controller:"+scholarList);
		model.addAttribute("scholarList", scholarList);
		return "scholar";
	}
	
	@RequestMapping(value="/research_research.do", method = RequestMethod.GET)
	public String showResearchResearch(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		List<ResearchModel> researchList = researchService.getAllResearch();
		model.addAttribute("researchList", researchList);
		return "research/research_research";
	}
	
	@RequestMapping(value="/section_introduction.do", method = RequestMethod.GET)
	public String showSectionIntroduction(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "section/section_introduction";
	}
	@RequestMapping(value="/section_feature.do", method = RequestMethod.GET)
	public String showSectionFeature(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "section/section_feature";
	}
	@RequestMapping(value="/team_doctor.do", method = RequestMethod.GET)
	public String showTeamDoctor(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "team/team_doctor";
	}
	@RequestMapping(value="/team_pharmacist.do", method = RequestMethod.GET)
	public String showTeamPharmacist(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "team/team_pharmacist";
	}
	@RequestMapping(value="/team_dietitian.do", method = RequestMethod.GET)
	public String showTeamDietitian(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "team/team_dietitian";
	}
	@RequestMapping(value="/team_expert.do", method = RequestMethod.GET)
	public String showTeamExpert(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "team/team_expert";
	}
	@RequestMapping(value="/research_tutor.do", method = RequestMethod.GET)
	public String showResearchTutor(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "research/research_tutor";
	}
	@RequestMapping(value="/research_master.do", method = RequestMethod.GET)
	public String showResearchMaster(HttpServletRequest request, HttpServletResponse response, ModelMap model) {
		return "research/research_master";
	}
}
